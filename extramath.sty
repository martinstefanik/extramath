\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{extramath}[2021/06/01 extramath package]

\RequirePackage{pgfopts}% package options using pgfkeys package
\RequirePackage{mathtools}% fix amsmath deficiencies (loads amsmath)
\RequirePackage{bbm}% only for indicator functions
\RequirePackage{amsbsy}% \boldsymbol{} command

% Default look for expectation and probability
\newcommand*{\E}{\mathbb{E}}% expectation
\renewcommand*{\P}{\mathbb{P}}% probability

% Alter the look of \E{} and \P{} based on package options
\pgfkeys{%
/extramath/.cd,%
probability/.is choice,%
probability/blackboard/.code={},% keep the default look of \E{} and \P{}
probability/sans-serif/.code={%
    \renewcommand*{\E}{\textsf{E}}%
    \renewcommand*{\P}{\textsf{P}}%
},
probability/text/.code={%
    \renewcommand*{\E}{\text{E}}%
    \renewcommand*{\P}{\text{P}}%
},
probability/.unknown/.code={% unknown value passed to 'probability'
    \PackageError{extramath}{%
        Unknown value passed to option 'probability': \pgfkeyscurrentname%
    }
},%
.unknown/.code={% unknown package option
    \PackageError{extramath}{Unknown option}
},%
probability=blackboard,%
}
\ProcessPgfPackageOptions{/extramath}

% Sets of numbers - these can be typeset using the blackboard letters below as
% well, but this is quite common among people and is not likely to collide with
% other commands defined by users
\newcommand*{\IN}{\mathbb{N}}% natural numbers
\newcommand*{\IZ}{\mathbb{Z}}% integers
\newcommand*{\IQ}{\mathbb{Q}}% rational numbers
\newcommand*{\IR}{\mathbb{R}}% real numbers
\newcommand*{\IC}{\mathbb{C}}% complex numbers

% Calligraphic letters - '{' and '}' are annoying to type
\newcommand*{\cA}{\mathcal{A}}
\newcommand*{\cB}{\mathcal{B}}
\newcommand*{\cC}{\mathcal{C}}
\newcommand*{\cD}{\mathcal{D}}
\newcommand*{\cE}{\mathcal{E}}
\newcommand*{\cF}{\mathcal{F}}
\newcommand*{\cG}{\mathcal{G}}
\newcommand*{\cH}{\mathcal{H}}
\newcommand*{\cI}{\mathcal{I}}
\newcommand*{\cJ}{\mathcal{J}}
\newcommand*{\cK}{\mathcal{K}}
\newcommand*{\cL}{\mathcal{L}}
\newcommand*{\cM}{\mathcal{M}}
\newcommand*{\cN}{\mathcal{N}}
\newcommand*{\cO}{\mathcal{O}}
\newcommand*{\cP}{\mathcal{P}}
\newcommand*{\cQ}{\mathcal{Q}}
\newcommand*{\cR}{\mathcal{R}}
\newcommand*{\cS}{\mathcal{S}}
\newcommand*{\cT}{\mathcal{T}}
\newcommand*{\cU}{\mathcal{U}}
\newcommand*{\cV}{\mathcal{V}}
\newcommand*{\cW}{\mathcal{W}}
\newcommand*{\cX}{\mathcal{X}}
\newcommand*{\cY}{\mathcal{Y}}
\newcommand*{\cZ}{\mathcal{Z}}

% Fraktur math letters - '{' and '}' are annoying to type
\newcommand*{\fA}{\mathfrak{A}}
\newcommand*{\fB}{\mathfrak{B}}
\newcommand*{\fC}{\mathfrak{C}}
\newcommand*{\fD}{\mathfrak{D}}
\newcommand*{\fE}{\mathfrak{E}}
\newcommand*{\fF}{\mathfrak{F}}
\newcommand*{\fG}{\mathfrak{G}}
\newcommand*{\fH}{\mathfrak{H}}
\newcommand*{\fI}{\mathfrak{I}}
\newcommand*{\fJ}{\mathfrak{J}}
\newcommand*{\fK}{\mathfrak{K}}
\newcommand*{\fL}{\mathfrak{L}}
\newcommand*{\fM}{\mathfrak{M}}
\newcommand*{\fN}{\mathfrak{N}}
\newcommand*{\fO}{\mathfrak{O}}
\newcommand*{\fP}{\mathfrak{P}}
\newcommand*{\fQ}{\mathfrak{Q}}
\newcommand*{\fR}{\mathfrak{R}}
\newcommand*{\fS}{\mathfrak{S}}
\newcommand*{\fT}{\mathfrak{T}}
\newcommand*{\fU}{\mathfrak{U}}
\newcommand*{\fV}{\mathfrak{V}}
\newcommand*{\fW}{\mathfrak{W}}
\newcommand*{\fX}{\mathfrak{X}}
\newcommand*{\fY}{\mathfrak{Y}}
\newcommand*{\fZ}{\mathfrak{Z}}

% Blackboard math letters - '{' and '}' are annoying to type
\newcommand*{\bbA}{\mathbb{A}}
\newcommand*{\bbB}{\mathbb{B}}
\newcommand*{\bbC}{\mathbb{C}}
\newcommand*{\bbD}{\mathbb{D}}
\newcommand*{\bbE}{\mathbb{E}}
\newcommand*{\bbF}{\mathbb{F}}
\newcommand*{\bbG}{\mathbb{G}}
\newcommand*{\bbH}{\mathbb{H}}
\newcommand*{\bbI}{\mathbb{I}}
\newcommand*{\bbJ}{\mathbb{J}}
\newcommand*{\bbK}{\mathbb{K}}
\newcommand*{\bbL}{\mathbb{L}}
\newcommand*{\bbM}{\mathbb{M}}
\newcommand*{\bbN}{\mathbb{N}}
\newcommand*{\bbO}{\mathbb{O}}
\newcommand*{\bbP}{\mathbb{P}}
\newcommand*{\bbQ}{\mathbb{Q}}
\newcommand*{\bbR}{\mathbb{R}}
\newcommand*{\bbS}{\mathbb{S}}
\newcommand*{\bbT}{\mathbb{T}}
\newcommand*{\bbU}{\mathbb{U}}
\newcommand*{\bbV}{\mathbb{V}}
\newcommand*{\bbW}{\mathbb{W}}
\newcommand*{\bbX}{\mathbb{X}}
\newcommand*{\bbY}{\mathbb{Y}}
\newcommand*{\bbZ}{\mathbb{Z}}

% Bold math letters - '{' and '}' are annoying to type
\newcommand*{\bA}{\boldsymbol{A}}
\newcommand*{\bB}{\boldsymbol{B}}
\newcommand*{\bC}{\boldsymbol{C}}
\newcommand*{\bD}{\boldsymbol{D}}
\newcommand*{\bE}{\boldsymbol{E}}
\newcommand*{\bF}{\boldsymbol{F}}
\newcommand*{\bG}{\boldsymbol{G}}
\newcommand*{\bH}{\boldsymbol{H}}
\newcommand*{\bI}{\boldsymbol{I}}
\newcommand*{\bJ}{\boldsymbol{J}}
\newcommand*{\bK}{\boldsymbol{K}}
\newcommand*{\bL}{\boldsymbol{L}}
\newcommand*{\bM}{\boldsymbol{M}}
\newcommand*{\bN}{\boldsymbol{N}}
\newcommand*{\bO}{\boldsymbol{O}}
\newcommand*{\bP}{\boldsymbol{P}}
\newcommand*{\bQ}{\boldsymbol{Q}}
\newcommand*{\bR}{\boldsymbol{R}}
\newcommand*{\bS}{\boldsymbol{S}}
\newcommand*{\bT}{\boldsymbol{T}}
\newcommand*{\bU}{\boldsymbol{U}}
\newcommand*{\bV}{\boldsymbol{V}}
\newcommand*{\bW}{\boldsymbol{W}}
\newcommand*{\bX}{\boldsymbol{X}}
\newcommand*{\bY}{\boldsymbol{Y}}
\newcommand*{\bZ}{\boldsymbol{Z}}

% Probability theory
\let\med\relax
\DeclareMathOperator{\med}{med}% median
\let\skew\relax
\DeclareMathOperator{\skew}{skew}% skewness
\let\kurt\relax
\DeclareMathOperator{\kurt}{kurt}% kurtosis
\let\Var\relax
\DeclareMathOperator{\Var}{Var}% variance
\let\sd\relax
\DeclareMathOperator{\sd}{sd}% standard deviation
\let\Cov\relax
\DeclareMathOperator{\Cov}{Cov}% covariance/covariance matrix
\let\MSE\relax
\DeclareMathOperator{\MSE}{MSE}% mean squared error
\let\Corr\relax
\DeclareMathOperator{\Corr}{Corr}% correlation/correlation matrix

\newcommand*{\bdot}{\scalebox{2}{\lower.3ex\hbox{$\cdot$}}}% stochastic integral dot

% Matrix theory and linear algebra
\let\rank\relax
\DeclareMathOperator{\rank}{rank}% rank of a matrix
\let\diag\relax
\DeclareMathOperator{\diag}{diag}% diagonal of matrix
\let\tr\relax
\DeclareMathOperator{\tr}{tr}% trace of matrix

% General math
\let\supp\relax
\DeclareMathOperator{\supp}{supp}% support
\let\dom\relax
\DeclareMathOperator{\dom}{dom}% domain of a map
\let\codom\relax
\DeclareMathOperator{\codom}{codom}% codomain of a map
\let\ran\relax
\DeclareMathOperator{\ran}{ran}% range of a map
\let\sign\relax
\DeclareMathOperator{\sign}{sign}% sign function
\let\Re\relax
\DeclareMathOperator{\Re}{Re}% real part of complex number
\let\Im\relax
\DeclareMathOperator{\Im}{Im}% imaginary part of a complex number
\let\epi\relax
\DeclareMathOperator{\epi}{epi}% epigraph
\let\hypo\relax
\DeclareMathOperator{\hypo}{hypo}% hypograph
\let\conv\relax
\DeclareMathOperator{\conv}{conv}% convex hull
\let\aff\relax
\DeclareMathOperator{\aff}{aff}% affine hull
\let\cone\relax
\DeclareMathOperator{\cone}{cone}% conic hull
\let\inter\relax
\DeclareMathOperator{\inter}{int}% interior of a set
\let\relint\relax
\DeclareMathOperator{\relint}{relint}% relative interior of a set
\let\argmax\relax
\DeclareMathOperator*{\argmax}{arg\,max}% argmax
\let\argmin\relax
\DeclareMathOperator*{\argmin}{arg\,min}% argmin
\let\esssup\relax
\DeclareMathOperator*{\esssup}{ess\,sup}% essential supremum
\let\essinf\relax
\DeclareMathOperator*{\essinf}{ess\,inf}% essential infimum
\let\proj\relax
\DeclareMathOperator*{\proj}{proj}% projection

\newcommand*{\half}{\frac{1}{2}}% 1/2
\newcommand*{\eqdef}{\overset{\text{def}}{=}}% defining equals
\newcommand*{\hateq}{\mathrel{\widehat{=}}}% equals with a hat (meaning characterized by)
\renewcommand*{\d}{\text{d}}% differential
\newcommand*{\I}{\mathbbm{1}}% indicator function

% Mathematical finance
\let\VaR\relax
\DeclareMathOperator{\VaR}{VaR}% value-at-risk
\let\CVaR\relax
\DeclareMathOperator{\CVaR}{CVaR}% conditional value-at-risk
\let\AVaR\relax
\DeclareMathOperator{\AVaR}{AVaR}% average value-at-risk
\let\TVaR\relax
\DeclareMathOperator{\TVaR}{TVaR}% tail value-at-risk
\let\RVaR\relax
\DeclareMathOperator{\RVaR}{RVaR}% range value-at-risk
\let\ES\relax
\DeclareMathOperator{\ES}{ES}% expected shortfall

% Machine learning
\let\logit\relax
\DeclareMathOperator{\logit}{logit}% logit transformation
\let\softmax\relax
\DeclareMathOperator{\softmax}{softmax}% softmax function
\let\relu\relax
\DeclareMathOperator{\relu}{ReLu}% rectified linear unit

% Misc
\newcommand*{\eps}{\varepsilon}% better epsilon

\endinput
